{
  "name": "liminal-chat",
  "version": "1.0.0",
  "private": true,
  "description": "A threshold between human and AI communication",
  "scripts": {
    "claude": "./scripts/claude-shell.sh",
    "dev": "pnpm -r --parallel run dev",
    "dev:all": "pnpm -r --parallel run dev",
    "web:dev": "cd apps/web && npm run dev",
    "web:build": "cd apps/web && npm run build",
    "web:start": "cd apps/web && npm run start",
    "build": "pnpm check:error-codes && pnpm -r run build",
    "build:all": "pnpm check:error-codes && pnpm -r run build",
    "test": "pnpm -r run test",
    "test:cov": "pnpm -F domain-server-nest test:cov",
    "test:all": "pnpm test",
    "lint:backend": "pnpm -r --filter='!web' --filter='!domain-server-nest' run lint",
    "lint:web": "pnpm -F web run lint",
    "lint": "pnpm lint:backend && pnpm lint:web",
    "typecheck": "pnpm -r run typecheck",
    "check:error-codes": "node scripts/check-error-usage.js",
    "clean": "pnpm -r run clean && rm -rf node_modules",
    "install:all": "pnpm install -r",
    "health:domain": "./scripts/GET 8766/health",
    "health:all": "npm run health:domain",
    "local-curl": "./scripts/local-curl",
    "domain:dev": "cd apps/domain && pnpm start:dev",
    "cli:dev": "cd apps/cli && pnpm dev",
    "domain:start": "pm2 start --name domain --cwd apps/domain npm -- run start:dev",
    "domain:stop": "pm2 delete domain || true",
    "domain:restart": "pnpm domain:stop && pnpm domain:start",
    "domain:helper": "cd apps/domain && PORT=8767 pnpm start",
    "domain:helper:dev": "cd apps/domain && PORT=8767 pnpm dev",
    "cli:chat": "cd apps/cli && pnpm dev chat",
    "cli:chat:echo": "cd apps/cli && pnpm dev chat --provider echo",
    "cli:chat:openrouter": "cd apps/cli && pnpm dev chat --provider openrouter",
    "cli:or:stream": "cd apps/cli && pnpm dev chat --provider openrouter --stream",
    "cli:providers": "cd apps/cli && pnpm dev providers",
    "cli:help": "cd apps/cli && pnpm dev --help",
    "cli:build": "pnpm -F @liminal/cli build",
    "cli:test": "pnpm -F @liminal/cli test",
    "cli:test:e2e": "pnpm -F @liminal/cli test:e2e",
    "domain:test": "pnpm -F domain-server-nest test",
    "domain:test:integration": "pnpm -F domain-server-nest test:integration",
    "start:all": "pnpm domain:start",
    "stop:all": "pm2 stop all || true",
    "restart:all": "pnpm stop:all && pnpm start:all",
    "typecheck:watch": "tsc --noEmit --watch -p tsconfig.json",
    "verify:all": "tsx scripts/verify.ts",
    "verify:no-tests": "pnpm lint && pnpm typecheck",
    "test:playwright": "playwright test",
    "test:playwright:headed": "playwright test --headed",
    "test:playwright:debug": "playwright test --debug",
    "test:playwright:ui": "playwright test --ui",
    "test:playwright:report": "playwright show-report tests/reports/html-report",
    "test:playwright:install": "playwright install",
    "test:playwright:codegen": "playwright codegen",
    "test:integration": "playwright test --config=playwright.config.integration.ts --project=integration-domain",
    "test:integration:domain": "playwright test --config=playwright.config.integration.ts --project=integration-domain",
    "test:integration:domain:health": "playwright test --config=playwright.config.integration.ts tests/integration/domain/health.spec.ts --project=integration-domain",
    "test:integration:domain:llm": "playwright test --config=playwright.config.integration.ts tests/integration/domain/llm-prompt.spec.ts --project=integration-domain",
    "test:integration:domain:providers": "playwright test --config=playwright.config.integration.ts tests/integration/domain/providers.spec.ts --project=integration-domain",
    "test:integration:domain:streaming": "playwright test --config=playwright.config.integration.ts tests/integration/domain/streaming.spec.ts --project=integration-domain",
    "test:integration:domain:real-providers": "playwright test --config=playwright.config.integration.ts tests/integration/domain/real-providers.spec.ts --project=integration-domain",
    "test:integration:domain:errors": "playwright test --config=playwright.config.integration.ts tests/integration/domain/error-scenarios.spec.ts --project=integration-domain",
    "test:integration:domain:show-report": "PLAYWRIGHT_OPEN_REPORT=true playwright test --config=playwright.config.integration.ts --project=integration-domain",
    "test:integration:show-report": "PLAYWRIGHT_OPEN_REPORT=true playwright test --config=playwright.config.integration.ts --project=integration-domain",
    "precommit:review": "git status --porcelain | grep -E '^( M|\\?\\?)' | cut -c4-",
    "precommit:stage-all": "git add -A",
    "precommit:list-files": "git diff --cached --name-only",
    "precommit:trufflehog": "git diff --cached --name-only | trufflehog filesystem --no-update --exclude-paths=.trufflehog-exclude --config=.trufflehog.yaml --filter-unverified",
    "precommit:api-keys": "git diff --cached --name-only | xargs grep -E -n -H '(sk_test_|pk_test_|sk_live_|pk_live_|api_key|apikey|api-key|secret_key|secretkey|secret-key|private_key|privatekey|private-key)[[:space:]]*[=:][[:space:]]*[A-Za-z0-9+/]{20,}|[A-Za-z0-9+/]{40,}' 2>/dev/null || echo 'No API key patterns found'",
    "precommit:sensitive-files": "git diff --cached --name-only | grep -E \"\\.(pem|key|p12)$|credentials\\.json|id_rsa\" || echo \"No sensitive filenames found\"",
    "precommit:env-files": "git diff --cached --name-only | grep -E \"^\\.env\" || echo \"No .env files found\"",
    "precommit:debug-statements": "git diff --cached --name-only | grep -E \"\\.(ts|js|tsx|jsx)$\" | xargs grep -n \"console\\.log\\|debugger\" 2>/dev/null || echo \"No debug statements found\"",
    "precommit:security-todos": "git diff --cached --name-only | xargs grep -n -i \"TODO.*\\(password\\|secret\\|key\\|token\\|auth\\|security\\)\" 2>/dev/null || echo \"No security TODOs found\"",
    "precommit:hardcoded-ips": "git diff --cached --name-only | grep -E \"\\.(ts|js|tsx|jsx)$\" | xargs grep -n -E \"localhost|127\\.0\\.0\\.1|192\\.168\\.|10\\.|172\\.\" 2>/dev/null | head -20 || echo \"No hardcoded IPs found\"",
    "precommit:large-files": "git diff --cached --name-only | xargs ls -lh 2>/dev/null | awk '$5 ~ /[0-9]+M/ {print $5, $9}' | head -10 || echo \"No large files found\"",
    "precommit:binary-files": "git diff --cached --name-only | xargs file 2>/dev/null | grep -v \"text\" | grep -v \"empty\" | head -10 || echo \"No unexpected binary files\"",
    "precommit:branch-check": "git branch --show-current | grep -E \"^(main|master)$\" && echo \"WARNING: You are on the main/master branch!\" || echo \"Branch check passed\"",
    "precommit:file-count": "echo \"Files staged: $(git diff --cached --name-only | wc -l)\""
  },
  "devDependencies": {
    "@playwright/experimental-ct-react": "^1.48.2",
    "@playwright/test": "^1.48.2",
    "pm2": "^6.0.8",
    "tsx": "^4.7.0",
    "typescript": "^5.3.3"
  },
  "packageManager": "pnpm@8.15.1"
}